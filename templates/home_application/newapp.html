<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>新建应用</title>
    <link href="/static/favicon.ico" rel="Shortcut Icon">
    <!-- 若您需要使用Kendo UI Professional，请联系版权人获得合法的授权或许可。 -->
    <!-- Bootstrap css -->
    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/bootstrap-3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <!-- kendo ui css -->
    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/styles/kendo.common.min.css" rel="stylesheet">
    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/styles/kendo.default.min.css" rel="stylesheet">
    <!-- font-awesome -->
    <link href="https://magicbox.bkclouds.cc/static_api/v3/assets/fontawesome/css/font-awesome.css" rel="stylesheet">
    <!--蓝鲸提供的公用样式库 -->
    <link href="https://magicbox.bkclouds.cc/static_api/v3/bk/css/bk.css?v=1.0.1" rel="stylesheet">
    <link href="https://magicbox.bkclouds.cc/static_api/v3/bk/css/bk_pack.css" rel="stylesheet">
    <!-- 如果要使用Bootstrap的js插件，必须先调入jQuery -->
    <script src="https://magicbox.bkclouds.cc/static_api/v3/assets/js/jquery-1.10.2.min.js"></script>
    <!-- 包括所有bootstrap的js插件或者可以根据需要使用的js插件调用　-->
    <script src="https://magicbox.bkclouds.cc/static_api/v3/assets/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <!-- 包括所有kendoui的js插件或者可以根据需要使用的js插件调用　-->
    <script src="https://magicbox.bkclouds.cc/static_api/v3/assets/kendoui-2015.2.624/js/kendo.all.min.js"></script>
    <script src="https://magicbox.bkclouds.cc/static_api/v3/bk/js/bk.js"></script>
    <!-- 数据埋点统计 -->
    <script src="https://magicbox.bkclouds.cc/static_api/analysis.js"></script>
    <!-- 以下两个插件用于在IE8以及以下版本浏览器支持HTML5元素和媒体查询，如果不需要用可以移除 -->
    <!--[if lt IE 9]><script src="https://magicbox.bkclouds.cc/static_api/v3/assets/js/html5shiv.min.js"></script><script src="https://magicbox.bkclouds.cc/static_api/v3/assets/js/respond.min.js"></script><![endif]-->
</head>

<body class="bg-white" data-bg-color="bg-white">
  <!--   <div class="king-page-box">
        <div class="king-layout1-main clearfix">
            <iframe   id="headerFrame"  name="headerFrame" frameborder=0   border=0   width=100%   height=75   src="../header" ></iframe> -->
        <div id="wrapper">
                  {% include 'home_application/header.html' %}
                  {% block header %}{% endblock %}
                  <div id="page-wrapper" class="gray-bg">
                      <div class="row border-bottom">
                          {% block content %}{% endblock %}
                          {% include 'home_application/menu.html' %}
                      </div>
                  </div>
        </div>
            <!-- content start -->
            <div class="king-content-wrap">
                <!-- <iframe   id="menuFrame"  name="menuFrame" frameborder=0   border=0   width=216   onload="this.height=menuFrame.document.body.scrollHeight"  src="../menu" ></iframe> -->
                <div class="king-layout1-content" style="margin-left: 216px;margin-top: -1130px;">
                    <div class="panel king-panel1 mb0  ">
                        <div class="panel-heading king-panel-head1 king-panel-top2">
                            <h3 class="panel-title">新建应用</h3>
                        </div>
<!--
如果没有引用以下文件，请去掉此注释
<link href="https://magicbox.bkclouds.cc/static_api/v3/bk/css/bk.css?v=1.0.1" rel="stylesheet">
-->
<div class="king-block king-block-bordered">

    <div class="king-block-content">
        <!-- 水平布局表单-1 Start -->
        <form class="form-horizontal" method="POST">
            {% if emg %}
                <div class="alert alert-danger text-center">{{ emg }}</div>
            {% endif %}
            {% if smg %}
                <div class="alert alert-success text-center">{{ smg }}</div>
            {% endif %}
            <div class="form-group">
                <label for="business_select" class="col-sm-3 control-label">业务线：</label>
                <div class="col-sm-7">
                    <select id="business_select" name= "business_select" class="col-sm-8" style="width:300px; height: 30px">
                            {% for business_name in business_list %}
                             <option value="{{ business_name.id }}">{{ business_name.name }}</option>
                             {% endfor %}
                     </select>
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="name" class="col-sm-3 control-label">项目编码（英文）：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="name" name="name" placeholder="请输入项目编码，如:hygea">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="alias" class="col-sm-3 control-label">备注名称（中文）：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="alias" name="alias" placeholder="请输入应用名称，如:体检管家">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="war_path" class="col-sm-3 control-label">war包仓库路径：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="war_path" name="war_path" placeholder="war包仓库路径">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="deploy_info_xk" class="col-sm-3 control-label">XK部署信息：</label>
                <div class="col-sm-7">
                    <textarea id="deploy_info_xk" name="deploy_info_xk" class="form-control"  placeholder="请输入XK部署信息，格式：IP:端口:部署目录（之间用冒号隔开，每行一条）"></textarea>
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
             <div class="form-group">
                <label for="deploy_info_sc" class="col-sm-3 control-label">生产部署信息：</label>
                <div class="col-sm-7">
                    <textarea id="deploy_info_sc" name="deploy_info_sc" class="form-control"  placeholder="请输入生产部署信息，格式：IP:端口:部署目录（之间用冒号隔开，每行一条）"></textarea>
                </div>
                 <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="config_path" class="col-sm-3 control-label">配置文件路径：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="config_path" name="config_path" placeholder="请输入配置文件路径">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="type" class="col-sm-3 control-label">部署要求：</label>
                <div class="col-sm-7">
                    <select name="type" id="type" class="form-control">
                        <option value="1">tomcat6+jdk1.6</option>
                        <option value="2" selected="true">tomcat7+jdk1.7</option>
                        <option value="3">tomcat8+jdk1.7</option>
                        <option value="4">其他</option>
                    </select>
                    <span class="text-danger mt5 fl">*</span>
                </div>
            </div>
            <div class="form-group">
                <label for="cluster_num" class="col-sm-3 control-label">集群数量：</label>
                <div class="col-sm-7">
                    <select name="cluster_num" id="cluster_num" class="form-control">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                    </select>
                    <span class="text-danger mt5 fl">*</span>
                </div>
            </div>
            <div class="form-group has-feedback">
                <label class="control-label col-sm-3" for="svn_path">SVN路径：</label>
                <div class="col-sm-7">
                    <textarea class="form-control" rows="3" id="svn_path" name="svn_path" placeholder="请输入SVN路径"></textarea>
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="master" class="col-sm-3 control-label">产品经理(PM)：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="master" name="master" placeholder="请输入产品master">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="owner" class="col-sm-3 control-label">应用负责人(PSM)：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="owner" name="owner" placeholder="请输入应用负责人">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <label for="operator" class="col-sm-3 control-label">运维负责人：</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="operator" name="operator" placeholder="请输入运维负责人">
                </div>
                <span class="text-danger mt5 fl">*</span>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-2">
                     <button class="king-btn king-default" type="reset">
                      取消
                      </button>
                      <button class="king-btn king-success mr10" onclick="check()">
                       提交
                       </button>
                </div>
            </div>
        </form>
        <!-- 水平布局表单-1 End -->
    </div>
</div>
                    </div>
                </div>
            </div>
    <script>
        $(function(){
             var li = $('.navi li');
             li.each(function(){
             $(this).click(function(){
             if( $(this).hasClass('c-open')){
                $(this).find('ul').slideUp(350);
                $(this).removeClass('c-open');
             }else{
               $(this).find('ul').slideDown(350);
               $(this).addClass('c-open');
               }
              })
           });
        })
    </script>
    <script>
        $(function(){
                function renderTpl(str, cfg) {
                    var re = /(#(.+?)#)/g;

                    return str.replace(re, function() {
                        var val = cfg[arguments[2]]+'';
                        if(typeof val == 'undefined') {
                            val = '';
                        }
                        return val;
                    });
                }

                // 异步请求后台数据
                $.ajax({
                    url: 'https://magicbox.bkclouds.cc/static_api/v3/components/table6/data.json',
                    type: 'GET',
                    success: function(res){
                        var _html = ' ';
                        var list = res.items;
                        var tpl = $('#tpl_1491037257824').html();
                        var headerTpl =  $('#header_tpl_1491037257824').html();
                        for (var i=0,len=list.length; i < len; i++){
                            var item = list[i];
                            _html += renderTpl(tpl, item)
                        }
                        $('#code_1491037257824 tbody').html(_html);
                        $('.ranger-box thead').html(renderTpl(headerTpl,res.catalogues));
                    }
                });
            });
    </script>
<script type="text/javascript">

function check(){
    var name = document.getElementById("name").value;

    if(name != ""){
        alert("提交成功！");
        // alert(document.getElementById('pre_release_time').value);
        document.getElementById('form-horizontal').submit(); //验证成功进行表单提交
    }else{
        alert("应用名不能为空！");
        return false;
        // window.location.href="/apply/"; 可以将其连接到指定的位置
    }
}
</script>
</body>
</html>